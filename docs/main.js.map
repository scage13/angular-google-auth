{"version":3,"sources":["./src/app/shared/utils/utils.ts","./src/app/shared/consts/consts.ts","./src/app/shared/services/vault.service.ts","./src/environments/environment.ts","./src/app/store/auth/auth.actions.ts","./src/app/shared/services/auth.service.ts","./src/app/components/page-not-found/page-not-found.component.ts","./src/app/components/page-not-found/page-not-found.component.html","./src/app/shared/guards/auth.guard.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/store/auth/auth.state.ts","./src/app/components/toolbar/toolbar.component.ts","./src/app/components/toolbar/toolbar.component.html","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":";;;;;;;;;;AAEA;AAAA;AAAO,SAAS,eAAe,CAAC,QAAoB;IAClD,MAAM,OAAO,GAAG,QAAQ,CAAC,eAAe,EAAE,CAAC;IAC3C,MAAM,QAAQ,GAAG,QAAQ,CAAC,eAAe,EAAE,CAAC;IAE5C,OAAO;QACL,QAAQ;QACR,KAAK,EAAE,OAAO,CAAC,QAAQ,EAAE;QACzB,UAAU,EAAE,OAAO,CAAC,aAAa,EAAE;QACnC,SAAS,EAAE,OAAO,CAAC,YAAY,EAAE;QACjC,KAAK,EAAE,OAAO,CAAC,WAAW,EAAE;QAC5B,IAAI,EAAE,OAAO,CAAC,OAAO,EAAE;KACxB,CAAC;AACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACdD;AAAA;AAAO,MAAM,mBAAmB,GAAG,SAAS,CAAC;;;;;;;;;;;;;ACA7C;AAAA;AAAA;AAAA;AAAmD;AACN;;AAKtC,MAAM,YAAY;IAEvB,YAC0B,MAAW;QAAX,WAAM,GAAN,MAAM,CAAK;IAClC,CAAC;IAEI,KAAK,CAAC,IAAiB;QAC7B,OAAO,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC;IAClF,CAAC;IAED,GAAG,CAAC,GAAW,EAAE,KAAU,EAAE,OAAoB,OAAO;QACtD,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE;YAAE,OAAO;SAAE;QAE/B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;IACvD,CAAC;IAED,GAAG,CAAU,GAAW,EAAE,OAAoB,OAAO;QACnD,IAAI,IAAI,GAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAE9C,IAAI;YACF,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;SACzB;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACrB;QAED,IAAI,CAAC,IAAI,EAAE;YAAE,OAAO,IAAI,CAAC;SAAE;QAE3B,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,CAAC,GAAW,EAAE,OAAoB,OAAO;QAC7C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YAAE,OAAO;SAAE;QAE/C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,OAAoB,OAAO;QAC/B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;IAC3B,CAAC;;wEAtCU,YAAY,yDAGb,0DAAM;+FAHL,YAAY,WAAZ,YAAY,mBADC,MAAM;6FACnB,YAAY;cADxB,wDAAU;eAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;sBAI7B,oDAAM;uBAAC,0DAAM;;;;;;;;;;;;;;ACTlB;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;IACjB,YAAY,EAAE,0EAA0E;CACzF,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;AChBnE;AAAA;AAAA;AAAO,MAAM,iBAAiB;;AACZ,sBAAI,GAAG,eAAe,CAAC;AAGlC,MAAM,kBAAkB;;AACb,uBAAI,GAAG,gBAAgB,CAAC;;;;;;;;;;;;;ACL1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AAEQ;AACU;AAI7D,SAAS;AAC8C;AACS;AAEhE,QAAQ;AACyC;;;;AAM1C,MAAM,WAAW;IAMtB,YACU,YAA0B,EAC1B,MAAc;QADd,iBAAY,GAAZ,YAAY,CAAc;QAC1B,WAAM,GAAN,MAAM,CAAQ;QAPhB,UAAK,GAAG,IAAI,oDAAe,CAAwB,IAAI,CAAC,CAAC;QACjE,WAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CACrC,6DAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CACvB,CAAC;IAKC,CAAC;IAEJ,SAAS;QACP,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE;YACtB,IAAI,CAAC,KAAK,CAAC,IAAI,CACb,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,qEAAW,CAAC,YAAY,EAAE,CAAC,CACzD,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,gEAAS,CAAC,CAAC,KAAqB,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EACpD,0DAAG,CAAC,4DAAe,CAAC,EACpB,0DAAG,CAAC,CAAC,IAAU,EAAE,EAAE;YACjB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,kEAAmB,EAAE,IAAI,CAAC,CAAC;YACjD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;QAC1C,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAED,aAAa;QACX,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB,gEAAS,CAAC,CAAC,KAAqB,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,EACrD,0DAAG,CAAC,GAAG,EAAE;YACP,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,kEAAmB,CAAC,CAAC;YAC9C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;;sEAtCU,WAAW;8FAAX,WAAW,WAAX,WAAW,mBADE,MAAM;6FACnB,WAAW;cADvB,wDAAU;eAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;;;;;;;;;;;ACjBlC;AAAA;AAAA;AAAkD;;AAO3C,MAAM,qBAAqB;IAEhC,gBAAgB,CAAC;IAEjB,QAAQ;IACR,CAAC;;0FALU,qBAAqB;qGAArB,qBAAqB;QCPlC,qEAAI;QAAA,0EAAe;QAAA,4DAAK;;6FDOX,qBAAqB;cALjC,uDAAS;eAAC;gBACT,QAAQ,EAAE,gBAAgB;gBAC1B,WAAW,EAAE,iCAAiC;gBAC9C,SAAS,EAAE,CAAC,iCAAiC,CAAC;aAC/C;;;;;;;;;;;;;;;;;;;;;;;;;AEN0C;AAGN;AAEC;AACU;AACQ;;;;AAKjD,MAAM,SAAS;IAIpB,YACU,MAAc,EACd,WAAwB;QADxB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;IAC/B,CAAC;IAEI,OAAO;QACb,OAAO,IAAI;aACR,KAAK;aACL,IAAI,CACH,gEAAS,CAAC,CAAC,IAAU,EAAE,EAAE;;YACvB,MAAM,SAAS,GAAG,WAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAQ,0CAAE,UAAU,IAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YAE1D,IAAI,CAAC,IAAI,EAAE;gBACT,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC5B,OAAO,+CAAE,CAAC,KAAK,CAAC,CAAC;aAClB;YAED,IAAI,SAAS,EAAE;gBACb,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC,IAAI,CAC1C,0DAAG,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,CACjB,CAAC;aACH;YAED,OAAO,+CAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QACpB,CAAC,CAAC,CACH,CAAC;IACN,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC;;kEAtCU,SAAS;4FAAT,SAAS,WAAT,SAAS,mBADI,MAAM;AAGN;IAAvB,0DAAM,CAAC,gEAAS,CAAC,IAAI,CAAC;wCAAyB;6FAFrC,SAAS;cADrB,wDAAU;eAAC,EAAE,UAAU,EAAE,MAAM,EAAE;oLAGR,KAAK;;;;;;;;;;;;;ACd/B;AAAA;AAAA;AAAA;AAAA;AAA0C;;;;AAOnC,MAAM,YAAY;;wEAAZ,YAAY;4FAAZ,YAAY;QCPzB,qEAAmB;QACnB,yEACE;QAAA,2EAA+B;QACjC,4DAAM;;6FDIO,YAAY;cALxB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,CAAC,sBAAsB,CAAC;aACpC;;;;;;;;;;;;;;AEND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACjB;AACe;AACuB;AACtC;AACoB;AACS;AACd;AAExD,aAAa;AACkC;AAC8C;AACnB;AAE1E,WAAW;AACkD;AACF;AACJ;AACA;AAEvD,QAAQ;AAC4C;AAEM;;;;;AA4BnD,MAAM,SAAS;;wFAAT,SAAS,cAFR,2DAAY;4IAEb,SAAS,mBAHT,EAAE,YAjBJ;YACP,uEAAa;YACb,oEAAgB;YAChB,4FAAuB;YACvB,qEAAgB;YAChB,2EAAgB;YAChB,yEAAe;YACf,qEAAa;YACb,qEAAa;YACb,sDAAU,CAAC,OAAO,CAAC;gBACf,iEAAS;aACV,EACD,EAAE,eAAe,EAAE,CAAC,sEAAW,CAAC,UAAU,EAAC,CAC5C;YACD,mFAA6B,CAAC,OAAO,EAAE;YACvC,0EAAsB,CAAC,OAAO,EAAE;SACjC;mIAIU,SAAS,mBAxBlB,2DAAY;QACZ,uFAAgB;QAChB,yGAAqB,aAGrB,uEAAa;QACb,oEAAgB;QAChB,4FAAuB;QACvB,qEAAgB;QAChB,2EAAgB;QAChB,yEAAe;QACf,qEAAa;QACb,qEAAa;6FAYJ,SAAS;cA1BrB,sDAAQ;eAAC;gBACR,YAAY,EAAE;oBACZ,2DAAY;oBACZ,uFAAgB;oBAChB,yGAAqB;iBACtB;gBACD,OAAO,EAAE;oBACP,uEAAa;oBACb,oEAAgB;oBAChB,4FAAuB;oBACvB,qEAAgB;oBAChB,2EAAgB;oBAChB,yEAAe;oBACf,qEAAa;oBACb,qEAAa;oBACb,sDAAU,CAAC,OAAO,CAAC;wBACf,iEAAS;qBACV,EACD,EAAE,eAAe,EAAE,CAAC,sEAAW,CAAC,UAAU,EAAC,CAC5C;oBACD,mFAA6B,CAAC,OAAO,EAAE;oBACvC,0EAAsB,CAAC,OAAO,EAAE;iBACjC;gBACD,SAAS,EAAE,EAAE;gBACb,SAAS,EAAE,CAAC,2DAAY,CAAC;aAC1B;;;;;;;;;;;;;;;;;;;;;;;;;AClD0C;AAEN;AAC2C;AAEhF,UAAU;AAC6D;AAKvE,SAAS;AACwD;;;;IAapD,SAAS,SAAT,SAAS;IAOpB,YACU,YAA0B,EAC1B,WAAwB;QADxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,gBAAW,GAAX,WAAW,CAAa;IAC/B,CAAC;IAPJ,MAAM,CAAC,IAAI,CAAC,KAAqB;QAC/B,OAAO,KAAK,CAAC,IAAI,CAAC;IACpB,CAAC;IAOD,UAAU,CAAC,GAAiC;;QAC1C,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;QAC7B,MAAM,OAAO,GAAS,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,yEAAmB,CAAC,CAAC;QACjE,MAAM,SAAS,GAAG,cAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,QAAQ,0CAAE,UAAU,IAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAE7D,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,SAAS,EAAE;YAC3B,GAAG,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;SACjC;IACH,CAAC;IAGD,WAAW,CAAC,GAAiC;QAC3C,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,IAAI,CACzC,0DAAG,CAAC,CAAC,IAAU,EAAE,EAAE;YACjB,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QAC3B,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD,YAAY,CAAC,GAAiC;QAC5C,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC,IAAI,CAC1C,0DAAG,CAAC,GAAG,EAAE;YACP,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;QACjC,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;CAEF;kEAxCY,SAAS;4FAAT,SAAS,WAAT,SAAS;AAuBpB;IADC,0DAAM,CAAC,+DAAiB,CAAC;4CAOzB;AAGD;IADC,0DAAM,CAAC,gEAAkB,CAAC;6CAO1B;AAnCD;IADC,4DAAQ,EAAE;2BAGV;AALU,SAAS;IAPrB,yDAAK,CAAiB;QACrB,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE;YACR,IAAI,EAAE,IAAI;SACX;KACF,CAAC;GAEW,SAAS,CAwCrB;AAxCqB;6FAAT,SAAS;cADrB,wDAAU;gNAwBT,WAAW,MASX,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzD4B;AACE;AAE0C;AAC9B;;;;;;;;;;;ICCtD,yEACE;IAAA,uEACE;IAAA,oEACF;;IAAA,4DAAI;IACJ,oFACE;IAAA,4EACE;IAAA,2EAAU;IAAA,iEAAM;IAAA,4DAAW;IAC3B,uEAAM;IAAA,wEAAY;IAAA,4DAAO;IAC3B,4DAAS;IACT,6EACE;IADoB,mTAAmB;IACvC,4EAAU;IAAA,0EAAc;IAAA,4DAAW;IACnC,wEAAM;IAAA,kEAAM;IAAA,4DAAO;IACrB,4DAAS;IACX,4DAAW;IACb,4DAAM;;;;;IAb2C,0DAA0B;IAA1B,kFAA0B;IAClE,0DAA8B;IAA9B,sPAA8B;;ADMlC,MAAM,gBAAgB;IAI3B,YACU,KAAY;QAAZ,UAAK,GAAL,KAAK,CAAO;IAClB,CAAC;IAEL,OAAO;QACL,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,2EAAkB,EAAE,CAAC,CAAC;IAChD,CAAC;;gFAVU,gBAAgB;gGAAhB,gBAAgB;QCb7B,iFACE;QAAA,uEAAM;QAAA,0EAAe;QAAA,4DAAO;QAE5B,uEAAwD;QAAA,gEAAK;QAAA,4DAAI;QAEjE,6GACE;;QAcJ,4DAAc;;QAfP,0DAAyB;QAAzB,8IAAyB;;ADUN;IAAvB,0DAAM,CAAC,gEAAS,CAAC,IAAI,CAAC;+CAAyB;6FAFrC,gBAAgB;cAL5B,uDAAS;eAAC;gBACT,QAAQ,EAAE,SAAS;gBACnB,WAAW,EAAE,0BAA0B;gBACvC,SAAS,EAAE,CAAC,0BAA0B,CAAC;aACxC;iGAGyB,KAAK;;;;;;;;;;;;;AEf/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AAEvD,aAAa;AACgF;AAE7F,SAAS;AAC8C;;;AAGvD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,UAAU,EAAE,OAAO;QACnB,SAAS,EAAE,MAAM;KAClB;IACD;QACE,IAAI,EAAE,MAAM;QACZ,YAAY,EAAE,GAAG,EAAE,CAAC,qKAAkC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC;KAC/E;IACD;QACE,IAAI,EAAE,cAAc;QACpB,WAAW,EAAE,CAAC,mEAAS,CAAC;QACxB,OAAO,EAAE,CAAC,mEAAS,CAAC;QACpB,YAAY,EAAE,GAAG,EAAE,CAAC,qNAAkD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;KACtG;IACD,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,yGAAqB,EAAE;CACjD,CAAC;AAMK,MAAM,gBAAgB;;+FAAhB,gBAAgB;0JAAhB,gBAAgB,kBAHlB,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAC7B,4DAAY;mIAEX,gBAAgB,uFAFjB,4DAAY;6FAEX,gBAAgB;cAJ5B,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACvC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;AChCD;AAAA;AAAA;AAAA;AAAA;AAA+C;AAIU;;;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,gBAAgB,CAAC,0DAAU;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;ACXpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,qC","file":"main.js","sourcesContent":["import { GoogleUser, User } from '../types/auth.type';\r\n\r\nexport function mapUserResponse(response: GoogleUser): User {\r\n  const profile = response.getBasicProfile();\r\n  const authData = response.getAuthResponse();\r\n\r\n  return {\r\n    authData,\r\n    email: profile.getEmail(),\r\n    familyName: profile.getFamilyName(),\r\n    givenName: profile.getGivenName(),\r\n    image: profile.getImageUrl(),\r\n    name: profile.getName(),\r\n  };\r\n}\r\n","export const STORAGE_PROFILE_KEY = 'profile';\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { WINDOW } from '@ng-web-apis/common';\r\n\r\ntype StorageType = 'local' | 'session';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class VaultService {\r\n\r\n  constructor(\r\n    @Inject(WINDOW) private window: any,\r\n  ) {}\r\n\r\n  private store(type: StorageType): Storage {\r\n    return type === 'local' ? this.window.localStorage : this.window.sessionStorage;\r\n  }\r\n\r\n  set(key: string, value: any, type: StorageType = 'local'): void {\r\n    if (!key || !value) { return; }\r\n\r\n    this.store(type).setItem(key, JSON.stringify(value));\r\n  }\r\n\r\n  get<T = any>(key: string, type: StorageType = 'local'): T {\r\n    let data: any = this.store(type).getItem(key);\r\n\r\n    try {\r\n      data = JSON.parse(data);\r\n    } catch (error) {\r\n      console.warn(error);\r\n    }\r\n\r\n    if (!data) { return null; }\r\n\r\n    return data;\r\n  }\r\n\r\n  remove(key: string, type: StorageType = 'local'): void {\r\n    if (!this.store(type).getItem(key)) { return; }\r\n\r\n    this.store(type).removeItem(key);\r\n  }\r\n\r\n  empty(type: StorageType = 'local'): void {\r\n    this.store(type).clear();\r\n  }\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  gAuthClienId: '213528512527-4gtbo61gusfu8ecqpjc59sgfc4elq72v.apps.googleusercontent.com',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","export class GoogleLoginAction {\r\n  static readonly type = '[GAuth] Login';\r\n}\r\n\r\nexport class GoogleLogoutAction {\r\n  static readonly type = '[GAuth] Logout';\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { filter, map, switchMap, tap } from 'rxjs/operators';\r\n\r\nimport { GoogleAuthBase, User } from '../types/auth.type';\r\n\r\n// Consts\r\nimport { STORAGE_PROFILE_KEY } from '../consts/consts';\r\nimport { environment } from '../../../environments/environment';\r\n\r\n// Utils\r\nimport { mapUserResponse } from '../utils/utils';\r\n\r\n// Services\r\nimport { VaultService } from './vault.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthService {\r\n  private auth2 = new BehaviorSubject<GoogleAuthBase | null>(null);\r\n  auth2$ = this.auth2.asObservable().pipe(\r\n    filter(data => !!data),\r\n  );\r\n\r\n  constructor(\r\n    private vaultService: VaultService,\r\n    private router: Router,\r\n  ) {}\r\n\r\n  initGAuth(): void {\r\n    gapi.load('auth2', () => {\r\n      this.auth2.next(\r\n        gapi.auth2.init({ client_id: environment.gAuthClienId }),\r\n      );\r\n    });\r\n  }\r\n\r\n  googleSignIn(): Observable<User> {\r\n    return this.auth2$.pipe(\r\n      switchMap((gauth: GoogleAuthBase) => gauth.signIn()),\r\n      map(mapUserResponse),\r\n      tap((user: User) => {\r\n        this.vaultService.set(STORAGE_PROFILE_KEY, user);\r\n        this.router.navigate(['/user-details']);\r\n      }),\r\n    );\r\n  }\r\n\r\n  googleSignOut(): Observable<unknown> {\r\n    return this.auth2$.pipe(\r\n      switchMap((gauth: GoogleAuthBase) => gauth.signOut()),\r\n      tap(() => {\r\n        this.vaultService.remove(STORAGE_PROFILE_KEY);\r\n        this.router.navigate(['/auth']);\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.sass']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<h1>Page not found!</h1>\n","import { Injectable } from '@angular/core';\r\nimport { CanLoad, CanActivate, Router } from '@angular/router';\r\n\r\nimport { Select } from '@ngxs/store';\r\n\r\nimport { Observable, of } from 'rxjs';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { AuthState } from '../../store/auth/auth.state';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { User } from '../types/auth.type';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthGuard implements CanActivate, CanLoad {\r\n\r\n  @Select(AuthState.user) user$: Observable<User>;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private authService: AuthService,\r\n  ) {}\r\n\r\n  private doCheck(): Observable<boolean> {\r\n    return this\r\n      .user$\r\n      .pipe(\r\n        switchMap((user: User) => {\r\n          const isExpired = user?.authData?.expires_at < Date.now();\r\n\r\n          if (!user) {\r\n            this.router.navigate(['/']);\r\n            return of(false);\r\n          }\r\n\r\n          if (isExpired) {\r\n            return this.authService.googleSignOut().pipe(\r\n              map(() => false),\r\n            );\r\n          }\r\n\r\n          return of(!!user);\r\n        }),\r\n      );\r\n  }\r\n\r\n  canActivate(): Observable<boolean> {\r\n    return this.doCheck();\r\n  }\r\n\r\n  canLoad(): Observable<boolean> {\r\n    return this.doCheck();\r\n  }\r\n\r\n}\r\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.sass']\n})\nexport class AppComponent {}\n\n","<toolbar></toolbar>\n<div class=\"app-content\">\n  <router-outlet></router-outlet>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NgxsModule } from '@ngxs/store';\nimport { NgxsLoggerPluginModule } from '@ngxs/logger-plugin';\nimport { NgxsReduxDevtoolsPluginModule } from '@ngxs/devtools-plugin';\nimport { AppRoutingModule } from './app-routing.module';\n\n// Components\nimport { AppComponent } from './app.component';\nimport { PageNotFoundComponent } from './components/page-not-found/page-not-found.component';\nimport { ToolbarComponent } from './components/toolbar/toolbar.component';\n\n// Material\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\n\n// State\nimport { AuthState } from './store/auth/auth.state';\n\nimport { environment } from '../environments/environment';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ToolbarComponent,\n    PageNotFoundComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    MatToolbarModule,\n    MatButtonModule,\n    MatIconModule,\n    MatMenuModule,\n    NgxsModule.forRoot([\n        AuthState,\n      ],\n      { developmentMode: !environment.production},\n    ),\n    NgxsReduxDevtoolsPluginModule.forRoot(),\n    NgxsLoggerPluginModule.forRoot(),\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { NgxsOnInit, State, Action, StateContext, Selector } from '@ngxs/store';\r\n\r\n// Actions\r\nimport { GoogleLoginAction, GoogleLogoutAction } from './auth.actions';\r\n\r\n// Types\r\nimport { AuthStateModel, User } from '../../shared/types/auth.type';\r\n\r\n// Consts\r\nimport { STORAGE_PROFILE_KEY } from '../../shared/consts/consts';\r\n\r\n// Services\r\nimport { VaultService } from '../../shared/services/vault.service';\r\nimport { AuthService } from '../../shared/services/auth.service';\r\n\r\n@State<AuthStateModel>({\r\n  name: 'auth',\r\n  defaults: {\r\n    user: null,\r\n  },\r\n})\r\n@Injectable()\r\nexport class AuthState implements NgxsOnInit {\r\n\r\n  @Selector()\r\n  static user(state: AuthStateModel): User {\r\n    return state.user;\r\n  }\r\n\r\n  constructor(\r\n    private vaultService: VaultService,\r\n    private authService: AuthService,\r\n  ) {}\r\n\r\n  ngxsOnInit(ctx: StateContext<AuthStateModel>): void {\r\n    this.authService.initGAuth();\r\n    const profile: User = this.vaultService.get(STORAGE_PROFILE_KEY);\r\n    const isExpired = profile?.authData?.expires_at < Date.now();\r\n\r\n    if (!!profile && !isExpired) {\r\n      ctx.setState({ user: profile });\r\n    }\r\n  }\r\n\r\n  @Action(GoogleLoginAction)\r\n  googleLogin(ctx: StateContext<AuthStateModel>): Observable<User> {\r\n    return this.authService.googleSignIn().pipe(\r\n      tap((user: User) => {\r\n        ctx.patchState({ user });\r\n      })\r\n    );\r\n  }\r\n\r\n  @Action(GoogleLogoutAction)\r\n  googleLogout(ctx: StateContext<AuthStateModel>): Observable<unknown> {\r\n    return this.authService.googleSignOut().pipe(\r\n      tap(() => {\r\n        ctx.patchState({ user: null });\r\n      })\r\n    );\r\n  }\r\n\r\n}\r\n","import { Component } from '@angular/core';\nimport { Select, Store } from '@ngxs/store';\n\nimport { GoogleLoginAction, GoogleLogoutAction } from '../../store/auth/auth.actions';\nimport { AuthState } from '../../store/auth/auth.state';\nimport { Observable } from 'rxjs';\nimport { User } from '../../shared/types/auth.type';\n\n@Component({\n  selector: 'toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.sass']\n})\nexport class ToolbarComponent {\n\n  @Select(AuthState.user) user$: Observable<User>;\n\n  constructor(\n    private store: Store,\n  ) { }\n\n  signOut(): void {\n    this.store.dispatch(new GoogleLogoutAction());\n  }\n\n}\n","<mat-toolbar color=\"primary\">\n  <span>Google Auth App</span>\n\n  <a class=\"toolbar-action\" routerLink=\"/auth\" mat-button>Login</a>\n\n  <div *ngIf=\"!!(user$ | async)\" class=\"toolbar-user\">\n    <a class=\"toolbar-user__image\" mat-icon-button [matMenuTriggerFor]=\"menu\">\n      <img [src]=\"(user$ | async)?.image\">\n    </a>\n    <mat-menu #menu=\"matMenu\">\n      <button routerLink=\"/user-details\" mat-menu-item>\n        <mat-icon>person</mat-icon>\n        <span>User Details</span>\n      </button>\n      <button mat-menu-item (click)=\"signOut()\">\n        <mat-icon>logout-variant</mat-icon>\n        <span>Logout</span>\n      </button>\n    </mat-menu>\n  </div>\n</mat-toolbar>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n// Components\nimport { PageNotFoundComponent } from './components/page-not-found/page-not-found.component';\n\n// Guards\nimport { AuthGuard } from './shared/guards/auth.guard';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    redirectTo: '/auth',\n    pathMatch: 'full',\n  },\n  {\n    path: 'auth',\n    loadChildren: () => import('./pages/auth/auth.module').then(m => m.AuthModule),\n  },\n  {\n    path: 'user-details',\n    canActivate: [AuthGuard],\n    canLoad: [AuthGuard],\n    loadChildren: () => import('./pages/user-details/user-details.module').then(m => m.UserDetailsModule),\n  },\n  { path: '**', component: PageNotFoundComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}